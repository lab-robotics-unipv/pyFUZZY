#ifndef MEMBERSHIP_FUNCTION_{{ model.name }}_H
#define MEMBERSHIP_FUNCTION_{{ model.name }}_H

#include <stdint.h>
#include <math.h>

#include "definitions_{{ model.name }}.h"
#include "defCommon_{{ model.name }}.h"
#include "MFShapes_{{ model.name }}.h"

#ifndef MAX_L_NAME_{{ model.name }}
#error "MAX_L_NAME_{{ model.name }} not defined: check definitions_{{ model.name }}.h"
#endif

#ifndef MAX_N_POI_{{ model.name }}
#error "MAX_N_POI_{{ model.name }} not defined: check definitions_{{ model.name }}.h"
#endif

//! MEMBER FUNCTIONS
typedef struct {
	char name[MAX_L_NAME_{{ model.name }}];		//!< Name of the Fuzzy Set
	memFuncShape ms;			//!< Shape of the Fuzzy Set
	dataType poi[MAX_N_POI_{{ model.name }}];		//!< Points of interest of the Fuzzy Set
	int lPoi;					//!< Numbers of POI
	dataType weight;				//!< Weight associated to Fuzzy Set
	dataType normalizedWeight;	//!< Normalized weight associated to the Fuzzy Set
} memFunction_{{ model.name }};

/*! ALLOCATION AND CREATION OF A MEMBER FUNCTION (A FUZZY SET):
 *		output		mf			Fuzzy Set to init
 *		input		name		Label of the Fuzzy set
 *		input		ms			Member Function shape
 *		input		poi			Array containing the points of interest of the shape
 *
 *		return					Flag: -1 if error, 0 otherwise
 */
int_t createMemFunction_{{ model.name }}(memFunction_{{ model.name }} * mf, char* name, memFuncShape ms, dataType * poi);

/*! CALCULATION OF THE MEMBERSHIP TO A GIVEN FUZZY SET
 *			input		mf				Pointer to a Member Function
 *			input 		inputValue		Value of the input
 *
 *			return		double			Return the % of membership to a Fuzzy set (mf) given as input inputValue
 */
dataType getPercentage_{{ model.name }}(memFunction_{{ model.name }} * mf , dataType inputValue);

/*!	SET THE WEIGHT ASSOCIATED TO THE MEMBER FUNCTION
 * 			input		mf				Member Function
 * 			input		weight			The weight to be associated to the Member Function
 * 
 * 			return		void
 */
void setWeight_{{ model.name }}(memFunction_{{ model.name }} * mf, dataType weight);

/*!	SET THE WEIGHT ASSOCIATED TO THE MEMBER FUNCTION
 * 			input		mf				Member Function
 * 			input		nWeight			The normalized weight to be associated to the Member Function
 * 
 * 			return		void
 */
void setNormalizedWeight_{{ model.name }}(memFunction_{{ model.name }} * mf, dataType nWeight);
#endif

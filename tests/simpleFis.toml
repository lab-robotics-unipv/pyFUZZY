[[model]]
	name = "Solar_follower_h"
	description = "Fuzzy Logic for a solar follower"
	version = "1.0alpha"
	type = "fis"

	[[model.input_var]]
		name = "diff"
		description = "Difference between the current in the horizontal line"

		[[model.input_var.mf]]
			name = "neg"
			type = "pairwise-linear"
			parameters = [[-5.0, 1.0], [0.0, 0.0]]

		[[model.input_var.mf]]
			name = "zero"
			type = "triangle"
			parameters = [-5.0, 0.0, 5.0]

		[[model.input_var.mf]]
			name = "pos"
			type = "pairwise-linear"
			parameters = [[0.0, 0.0], [5.0, 1.0]]

	[[model.input_var]]
		name = "diffDer"
		description = "Derivative of the difference of current in the horizontal line"

		[[model.input_var.mf]]
			name = "neg"
			type = "pairwise-linear"
			parameters = [[-1.0, 1.0], [0.0, 0.0]]

		[[model.input_var.mf]]
			name = "zero"
			type = "triangle"
			parameters = [-1.0, 0.0, 1.0]

		[[model.input_var.mf]]
			name = "pos"
			type = "pairwise-linear"
			parameters = [[0.0, 0.0], [1.0, 1.0]]

	[[model.output_var]]
		name = "vel_ang"
		description = "Angular velocity"

		[[model.output_var.mf]]
			name = "neg"
			type = "pairwise-linear"
			parameters = [[-1.0, 1.0], [0.0, 0.0]]

		[[model.output_var.mf]]
			name = "zero"
			type = "triangle"
			parameters = [-1.0, 0.0, 1.0]

		[[model.output_var.mf]]
			name = "pos"
			type = "pairwise-linear"
			parameters = [[0.0, 0.0], [1.0, 1.0]]
	
	[model.rules]
		rules = [
			"if (diff is neg) and (diffDer is neg) then (vel_ang is pos) with 1",
			"if (diff is neg) and (diffDer is zero) then (vel_ang is pos) with 1",
			"if (diff is neg) and (diffDer is pos) then (vel_ang is zero) with 1",
			"if (diff is zero) and (diffDer is neg) then (vel_ang is pos) with 1",
			"if (diff is zero) and (diffDer is zero) then (vel_ang is zero) with 1",
			"if (diff is zero) and (diffDer is pos) then (vel_ang is neg) with 1",
			"if (diff is pos) and (diffDer is neg) then (vel_ang is zero) with 1",
			"if (diff is pos) and (diffDer is zero) then (vel_ang is neg) with 1",
			"if (diff is pos) and (diffDer is pos) then (vel_ang is neg) with 1",
		]
		and = "multiply"
		then = "max"

[[model]]
	name = "Solar_follower_v"
	description = "Fuzzy Logic for a solar follower"
	version = "1.0alpha"
	type = "fis"

	[[model.input_var]]
		name = "diff"
		description = "Difference between the current in the vertical line"

		[[model.input_var.mf]]
			name = "neg"
			type = "pairwise-linear"
			parameters = [[-5.0, 1.0], [0.0, 0.0]]

		[[model.input_var.mf]]
			name = "zero"
			type = "triangle"
			parameters = [-5.0, 0.0, 5.0]

		[[model.input_var.mf]]
			name = "pos"
			type = "pairwise-linear"
			parameters = [[0.0, 0.0], [5.0, 1.0]]

	[[model.input_var]]
		name = "diffDer"
		description = "Derivative of the difference of current in the vertical line"

		[[model.input_var.mf]]
			name = "neg"
			type = "pairwise-linear"
			parameters = [[-1.0, 1.0], [0.0, 0.0]]

		[[model.input_var.mf]]
			name = "zero"
			type = "triangle"
			parameters = [-1.0, 0.0, 1.0]

		[[model.input_var.mf]]
			name = "pos"
			type = "pairwise-linear"
			parameters = [[0.0, 0.0], [1.0, 1.0]]

	[[model.output_var]]
		name = "vel_ang"
		description = "Angular velocity"

		[[model.output_var.mf]]
			name = "neg"
			type = "pairwise-linear"
			parameters = [[-1.0, 1.0], [0.0, 0.0]]

		[[model.output_var.mf]]
			name = "zero"
			type = "triangle"
			parameters = [-1.0, 0.0, 1.0]

		[[model.output_var.mf]]
			name = "pos"
			type = "pairwise-linear"
			parameters = [[0.0, 0.0], [1.0, 1.0]]
	
	[model.rules]
		rules = [
			"if (diff is neg) and (diffDer is neg) then (vel_ang is pos) as 1",
			"if (diff is neg) and (diffDer is zero) then (vel_ang is pos) as 1",
			"if (diff is neg) and (diffDer is pos) then (vel_ang is zero) as 1",
			"if (diff is zero) and (diffDer is neg) then (vel_ang is pos) as 1",
			"if (diff is zero) and (diffDer is zero) then (vel_ang is zero) as 1",
			"if (diff is zero) and (diffDer is pos) then (vel_ang is neg) as 1",
			"if (diff is pos) and (diffDer is neg) then (vel_ang is zero) as 1",
			"if (diff is pos) and (diffDer is zero) then (vel_ang is neg) as 1",
			"if (diff is pos) and (diffDer is pos) then (vel_ang is neg) as 1"
		]
		and = "multiply"
		then = "max"
